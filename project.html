<!DOCTYPE HTML>
<!--
	Future Imperfect by Pixelarity
	pixelarity.com | hello@pixelarity.com
	License: pixelarity.com/license
-->
<html>
	<head>
		<title>MIDI Parser</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		<link rel="stylesheet" href="assets/css/main.css" />
	</head>

	<body class="single is-preload">

		<!-- Wrapper -->
				<!-- Header -->
					<header id="header">
						<h1><a href="https://binaryexcursions.github.io/">Github Pages</a></h1>
						<nav class="links">
							<ul>
								<li><a href="index.html">Intro</a></li>
								<li><a href="#">Project</a></li>
								<li><a href="architecture.html">Architecture</a></li>
								<!-- <li><a href="#">Tempus</a></li>
								<li><a href="#">Adipiscing</a></li> -->
							</ul>
						</nav>
						<nav class="main">
							<ul>
								<!-- <li class="search">
									<a class="fa-search" href="#search">Search</a>
									<form id="search" method="get" action="#">
										<input type="text" name="query" placeholder="Search" />
									</form>
								</li> -->
								<li class="menu">
									<a class="fa-bars" href="#menu">Menu</a>
								</li>
							</ul>
						</nav>
					</header>

				<!-- Menu -->
					<section id="menu">
						<!-- Links -->
						<section>
							<ul class="links">
								<li>
									<a href="https://binxcrs.com/">
										<h3>Binary Excursions</h3>
										<p>Organization Home Page</p>
									</a>
								</li>
								<li>
									<a href="https://binaryexcursions.github.io/MidiParserKotlin/">
										<h3>Kotlin MIDI Parser</h3>
										<p>Developed for the Android platform</p>
									</a>
								</li>
								<li>
									<a href="https://binaryexcursions.github.io/MidiParserTypeScript/">
										<h3>TypeScript MIDI Parser</h3>
										<p>Developed for use with web frameworks</p>
									</a>
								</li>
								<li>
									<a href="https://mobile-strategy.blogspot.com/">
										<h3>Mobile Blog Post</h3>
										<p>Articles for business mobile strategy</p>
									</a>
								</li>
							</ul>
						</section>
					</section>

				<!-- Main -->
					<div id="main">

						<!-- Post -->
							<article class="post">
								<header>
									<div class="title">
										<h2><a href="https://github.com/BinaryExcursions/MidiParserSwift" target="_blank" class="fab fa-github" style="font-size: large;">MIDI Parser: <i>Project</i></a></h2>
										<p>A straight forward MIDI file parsing project.</p>
									</div>
									<div class="meta">
										<div class="name">Author</div>
										<a href="https://github.com/binexc" target="_blank" class="author"><span class="name">Jeff Behrbaum</span><img src="images/Hal9000Small.png" alt="" /></a>
									</div>
								</header>

								<p>
									The project itself was developed to help anyone interested in learning more about MIDI or wanting to integrate MIDI capablities into thier mobile application(s).
									When I first started, I found a lot of official documenation but not a ton of examples which were easy to find, which is why I put this project together. My aim 
									is to provide a straight forward code base which is easy to use, understand, and expand upon. I deliberately left out all 3rd party libraries and iOS/iPad specific
									implementation to provide as broad a reference as possible. 
								</p>

								<p><u><i>Please note</i></u> - this is absolutely a Swift open-source MIDI parser. Feel free to use it within any of your hobby or commercial project. However, please 
									provide appropriate recognition when doing so. There will hopefully be developers who contribute their talents and time to this project and it would be a tremendous 
									disservice to them to not recognize their efforts. We'll all thank you in advance.
								</p>

								<p>As you look through this code base and documentation, if you'd like to see additional resources, below are some useful links which helped me:</p>

								<ul>
									<li><a href="https://youtu.be/040BKtnDdg0" target="_blank">youtube: Programming MIDI</a></li>
									<li><a href="https://github.com/binexc/olcPixelGameEngine/blob/master/Videos/OneLoneCoder_PGE_MIDI.cpp" target="_blank">C++ Example from above video</a></li>
									<li><a href="https://midimusic.github.io/tech/midispec.html" target="_blank">Spec. w/Explanation</a></li>
									<li><a href="https://midi.org/" target="_blank">Official MIDI Specs</a></li>
								</ul>
									
								<!-- <span class="image featured"><img src="images/tracks@2x.jpg" alt="game board" /></span> -->

								<p> 
									This project reads MIDI data directly from a file. While many of you are also likely to read from an external source and bring 
									in your MIDI via a stream, changing the file pointer to an inputsteam should be all you need to do to excercise your solution. The
									MIDI rules remain the same regardless. For simplicity, and to provide a straight forward code base, this project uses a command-line 
									Swift application to exercise the code which parses a MIDI file. 
								</p>

								<p>
									One consideration to keep in mind: when "processing" an event, this code-base logs and stores information - instead, especially when streaming
									your data for real-time audio, this is where you'll want to actaully process the event information. ie: Pass the MIDI information to your AV library
									to play the event(s) as soon as they're read.
								</p>
								
								<p>
									The code below outlines the calls you'll need to make to retreive all the information you'll need from the MIDI file. The object relations are:
									<ul>
										<li>MIDI Record - This represents the entire contents of the MIDI file</li>
										<li>One or more MIDI Tracks Per-Record</li>
										<li>One or more MIDI Events Per-Track</li>
									</ul>	
								</p>

								<div style="overflow: hidden;">
									<pre style="display: inline-flex;">
										<code style="font-size: 0.9rem; font-weight: 550;">
let midiRecord:MidiRecord = MidiRecord()
let midiReader:MidiReader = MidiReader()
											
guard midiReader.openMidiFile(fileName:filePath) != false else {exit(0)}
											
var midiHeader:MidiRecordHeader = MidiRecordHeader()
var lastIdxRead = midiReader.readMidiRecordHeader(hdr: &midiHeader) + 1
											
midiRecord.Header = midiHeader
let trackInfo:MidiTrack? = nil
											
repeat {
	let trackInfo:MidiTrack? = midiReader.readTrack(startIndex:&lastIdxRead)
											
	if let track = trackInfo {
		midiRecord.appendTrack(track: track)
	}
}while(trackInfo != nil)
										</code>
									</pre>
								</div>
							</article>
					</div>

				<!-- Footer -->
					<section id="footer">
						<ul class="icons">
							<li><a href="https://twitter.com/binexcr" class="icon brands fa-twitter" target="_blank"><span class="label">Twitter</span></a></li>
							<li><a href="https://www.linkedin.com/" class="icon brands fa-linkedin"><span class="label">LinkedIn</span></a></li>
							<li><a href="https://www.youtube.com" class="icon brands fa-youtube"><span class="label">YouTube</span></a></li>
							<li><a href="https://github.com/BinaryExcursions" target="_blank" class="icon brands fa-github"><span class="label">RSS</span></a></li>
							<!-- <li><a href="mailto: abc@gmail.com" class="icon solid fa-envelope"><span class="label">Email</span></a></li> -->
						</ul>
						<p class="copyright">&copy; All rights reserved, Binary Excursions LLC.</p>
					</section>

			</div>

		<!-- Scripts -->
			<script src="assets/js/jquery.min.js"></script>
			<script src="assets/js/browser.min.js"></script>
			<script src="assets/js/breakpoints.min.js"></script>
			<script src="assets/js/util.js"></script>
			<script src="assets/js/main.js"></script>
	</body>
</html>